<main>
  <div class="container">

    <h1>Customer's Order</h1>
      <button (click)="showPostField()" *ngIf="postBtnData">
        {{postBtnData}}
      </button>
  </div>

<div class="quote-form" *ngIf="postField">
    <form  [formGroup]="AddNewQuote" (ngSubmit)="addQuote()">
      <input type="text"
              id="clientName"
              formControlName="clientName"
              placeholder="Enter Client Name"
              required>

              <input type="text"
              id="vehicleName"
              formControlName="vehicleName"
              placeholder="Enter Vehicle Name"
              required>

      <div formGroupName="billingAddress" >
        <input type="text"
              id="repName"
              formControlName="repName"
              placeholder="Enter Rep Name"
              required>

              <input type="text"
              id="address"
              formControlName="address"
              placeholder="Enter Address"
              required>

              <input type="text"
              id="city"
              formControlName="city"
              placeholder="Enter City Name"
              required><br>

              <input type="text"
              id="postalCode"
              formControlName="postalCode"
              placeholder="Enter Postal Code"
              required><br>

              <input type="text"
              id="state"
              formControlName="state"
              placeholder="Enter State"
              required><br>

      </div>

  <div formGroupName="items" >
        <input type="text"
        id="text"
        [(ngModel)]="item"
        formControlName="item"
        placeholder="Item Ordered"
        required><br>

    <input type="number"
        placeholder="Enter Unit"
        id="unit"
        [(ngModel)]="unit"
        formControlName="unit"
        autocomplete="off"
        required><br>

    <input type="number"
        placeholder="Enter Rate"
        id="rate"
        [(ngModel)]="rate"
        formControlName="rate"
        autocomplete="off"
        required><br>

    <input type="number"
        placeholder="Enter Amount"
        id="amount"
        [(ngModel)]="amount"
        formControlName="amount"
        autocomplete="off"
        required><br>
  </div>

      <button style="width: 50%; margin:auto; display: block"
              [disabled]="!AddNewQuote.valid"
              type="submit">Create Invoice
      </button>
    </form>
</div>

  <table class="ui celled table">
    <thead>
      <tr>
        <th>Id</th>
        <th>Vehicle Name</th>
        <th>Client Name</th>
        <th>Display (Items | Unit | Rate | Amount)</th>
        <!-- <th>Item</th>
        <th>Unit</th>
        <th>Rate</th>
        <th>Amount</th> -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let quote of quotesList.payload;">
        <td>{{ quote.id }}</td>
        <td>{{ quote.vehicleName}}</td>
        <td>{{ quote.clientName }}</td>
        <div class="quote-items" *ngFor="let itemy of quote.items" style="border-bottom: 2vh;">
          <button (click)="displayQuote()">View more</button>
          <div class="quote-display" *ngIf="showQuote">
            <b>{{itemy.item}}</b> |
            <b>{{itemy.unit}}</b> |
            <b>{{itemy.rate}}</b> |
            <b>{{itemy.amount}}</b>
          </div>
        </div>
      </tr>
    </tbody>
  </table>
</main>
